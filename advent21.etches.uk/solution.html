<!DOCTYPE html>
<html>

<head>
    <title>Advent of Code 2021</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="main.css">
</head>

<body onload="loaded()">
    <header>
        <div>
            <h3>Adam Etches / Advent of Code / 2021</h3>
        </div>
        <div id='days'>
            <p><em>Advent of Code</em></p>
            <a id="dayone" data-day="1" onclick="switchDay(this)"> [1]</a>
            <a id="daytwo" data-day="2" onclick="switchDay(this)"> [2]</a>
        </div>
    </header>
    <div>
        
        <p><em>Solution <span id="whichDay">dayone</span></em> <a id = aocLink href=""></a></p> 
        
        <pre style="margin-top :0px">
         <div id="displaySolutionCode" style="padding-left:20px;margin-top :0px; overflow:auto; max-height:400px;" </div>
        </pre>
        </div>
        
        <br><a onclick="runPart1()">[Run Solution 1]</a>
        <a onclick="runPart2()">[Run Solution 2]</a>
        <p><em>Solution Result:</em></p>

        <div id="displaySolutionResult" style="padding-left:20px"></div>
        <p><em>Solution Data:</em></p>
        <div id="displaySolutionData" style="padding-left:20px"></div>

        <script src=" syntaxHighlight.js"></script>
        <script>
            var solutionDay = 'daytwo';
            var solutionDayNumber = '1';
            const aocUrlBase = "https://adventofcode.com/2021/day/"

            var inputData;
            var solutionJs;


            var script = document.createElement("script");
            script.id = "solutionCode"
            script.src = solutionDay + ".js";
            document.head.appendChild(script);

            function loadSolution() {
                dataLocation = "https://raw.githubusercontent.com/adametches/advent2021/main/advent21.etches.uk/" + solutionDay + "data.txt";
                $.get(dataLocation, function (data) {
                    inputData = data;
                });


                solutionLocation = "https://raw.githubusercontent.com/adametches/advent2021/main/advent21.etches.uk/" + solutionDay + ".js";
                $.get(solutionLocation, function (jscode) {
                    solutionJs = jscode;
                    document.getElementById("displaySolutionCode").innerHTML = solutionJs
                    w3CodeColor("displaySolutionCode", "js");

                });
            }

            function loaded() {
                loadSolution();
                document.getElementById('whichDay').innerHTML = solutionDay;
                document.getElementById('aocLink').innerHTML = aocUrlBase + solutionDayNumber;   
                document.getElementById('aocLink').href = aocUrlBase + solutionDayNumber; ;            

                document.getElementById("displaySolutionCode").innerHTML = solutionJs;
                w3CodeColor("displaySolutionCode", "js");
            };

            function switchDay(object) {

                solutionDay = object.id;
                solutionDayNumber = object.dataset.day;

                document.getElementById('aocLink').innerHTML = aocUrlBase + solutionDayNumber;   
                document.getElementById('aocLink').href = aocUrlBase + solutionDayNumber; ;   

                document.getElementById('whichDay').innerHTML = solutionDay;
                           
                document.getElementById('solutionCode').remove();
                var script = document.createElement("script");
                script.id = "solutionCode"
                script.src = solutionDay + ".js";
                document.head.appendChild(script);

                document.getElementById("displaySolutionResult").innerHTML = "";
                document.getElementById("displaySolutionData").innerHTML = "";

                loadSolution();
            };

            function runPart1() {

                result = solutionPart1(inputData)
                document.getElementById("displaySolutionResult").innerHTML = result;
                document.getElementById("displaySolutionData").innerHTML = inputData;
            };

            function runPart2() {

                result = solutionPart2(inputData)
                document.getElementById("displaySolutionResult").innerHTML = result;
                document.getElementById("displaySolutionData").innerHTML = inputData;
            };

          

        </script>



</body>

</html>